<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Dependencies  header -->
    <%- include('../partials/_head') %>
    <title>Edit <%= product.name %></title>
  </head>
  <body>
    <!-- Navbar -->
    <%- include("../partials/_navbar",{ activeNav: ''}) %>

    <main class="flex-grow-1 main-content d-flex flex-column">
      <div class="mt-5 mb-4 d-flex align-items-center gap-4">
        <a
          class="inline btn btn-sm"
          href="/products"
          style="background-color: rgba(var(--rgb-2), 0.3)"
        >
          &lt;&lt; Back to Products
        </a>
      </div>

      <div class="edit-product-container">
        <form
          action="/products/edit/<%= product.id %>"
          method="POST"
          class="w-100 p-3 d-flex flex-column gap-3"
          enctype="multipart/form-data"
        >
          <div class="flex justify-content-center align-content-center p-3">
            <img
              class="product-image"
              src="<%= product.icon_src %>"
              alt="Product"
            />
            <!-- Optionally allow uploading new image -->
            <input type="file" name="icon_src" accept="image/*" class="mt-2" />
          </div>

          <div class="d-flex align-items-end gap-3">
            <input
              type="text"
              name="name"
              class="form-control fs-2 fw-bold flex-grow-1"
              value="<%= product.name %>"
              required
            />
            <input
              type="number"
              step="0.01"
              name="price"
              class="form-control fs-2 fw-medium"
              value="<%= product.price %>"
              required
            />
          </div>

          <label for="category_name" class="form-label">Category</label>
          <input
            type="text"
            name="category_name"
            id="category_name"
            class="form-control mb-2"
            value="<%= product.category_name %>"
            required
          />

          <label for="category_color" class="form-label"
            >Category Color (hex or rgb)</label
          >
          <input
            type="text"
            name="category_color"
            id="category_color"
            class="form-control mb-2"
            value="<%= product.category_color %>"
          />

          <label for="Brand" class="form-label">Brand</label>
          <input
            type="text"
            name="Brand"
            id="Brand"
            class="form-control mb-2"
            value="<%= product.Brand %>"
          />

          <label for="description" class="form-label">Description</label>
          <textarea
            name="description"
            id="description"
            class="form-control mb-2"
            rows="4"
            required
          >
<%= product.description %></textarea
          >

          <label for="quantity" class="form-label">Quantity</label>
          <input
            type="number"
            name="quantity"
            id="quantity"
            class="form-control mb-2"
            value="<%= product.quantity %>"
            min="0"
            required
          />

          <div
            class="pt-4 d-flex gap-3 align-content-center justify-content-end"
          >
            <button type="submit" class="btn btn-primary px-3">Save</button>
            <a class="btn btn-secondary px-3" href="/products/<%= product.id %>"
              >Cancel</a
            >
          </div>
        </form>
      </div>
    </main>
  </body>
</html>
